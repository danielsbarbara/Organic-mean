import React, { useState, useEffect } from "react";

interface PreloaderProps {
  visible: boolean;
}

const Preloader: React.FC<PreloaderProps> = ({ visible }) => {
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    if (visible) {
      const timer = setTimeout(() => {
        setLoading(false);
      }, 3000); // Tempo simulado de carregamento (3 segundos)

      // Limpeza para evitar vazamentos de memória
      return () => clearTimeout(timer);
    }
  }, [visible]);

  if (!visible) return null; // Não renderizar o preloader se visible for false

  return (
    <div className="h-auto inset-0  md:top-52 flex justify-center flex-col items-center bg-transparent z-50">
      <div className="flex ">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          width="150px"
          height="150px"
          viewBox="0 0 100 100"
          preserveAspectRatio="xMidYMid"
          className=""
        >
          <g transform="translate(50 50)">
            {" "}
            <g transform="translate(-19 -19) scale(0.6)">
              {" "}
              <g>
                <animateTransform
                  attributeName="transform"
                  type="rotate"
                  values="0;45"
                  keyTimes="0;1"
                  dur="0.8333333333333334s"
                  begin="0s"
                  repeatCount="indefinite"
                ></animateTransform>
                <path
                  d="M30.775639009962486 22.290357635723915 L39.26092038420106 30.775639009962482 L30.775639009962482 39.26092038420105 L22.290357635723915 30.775639009962482 A38 38 0 0 1 6.000000000000006 37.52332607858744 L6.000000000000006 37.52332607858744 L6.000000000000007 49.52332607858744 L-6.000000000000001 49.52332607858744 L-6.000000000000002 37.52332607858744 A38 38 0 0 1 -22.290357635723904 30.775639009962486 L-22.290357635723904 30.775639009962486 L-30.775639009962475 39.26092038420106 L-39.26092038420106 30.775639009962486 L-30.775639009962486 22.290357635723915 A38 38 0 0 1 -37.52332607858744 6.000000000000009 L-37.52332607858744 6.000000000000009 L-49.52332607858744 6.000000000000011 L-49.52332607858744 -5.999999999999998 L-37.52332607858744 -6 A38 38 0 0 1 -30.77563900996249 -22.290357635723904 L-30.77563900996249 -22.290357635723904 L-39.26092038420106 -30.77563900996247 L-30.775639009962486 -39.26092038420105 L-22.290357635723915 -30.775639009962482 A38 38 0 0 1 -6.0000000000000115 -37.52332607858744 L-6.0000000000000115 -37.52332607858744 L-6.000000000000014 -49.52332607858744 L5.999999999999995 -49.52332607858744 L5.999999999999997 -37.52332607858744 A38 38 0 0 1 22.290357635723904 -30.77563900996249 L22.290357635723904 -30.77563900996249 L30.77563900996247 -39.26092038420106 L39.26092038420105 -30.77563900996249 L30.775639009962482 -22.290357635723918 A38 38 0 0 1 37.52332607858743 -6.000000000000013 L37.52332607858743 -6.000000000000013 L49.52332607858743 -6.000000000000016 L49.52332607858744 5.999999999999993 L37.52332607858744 5.999999999999996 A38 38 0 0 1 30.77563900996249 22.2903576357239 M0 -23A23 23 0 1 0 0 23 A23 23 0 1 0 0 -23"
                  fill="#1C1C1C"
                ></path>
              </g>
            </g>{" "}
            <g transform="translate(19 19) scale(0.6)">
              {" "}
              <g>
                <animateTransform
                  attributeName="transform"
                  type="rotate"
                  values="45;0"
                  keyTimes="0;1"
                  dur="0.8333333333333334s"
                  begin="-0.4166666666666667s"
                  repeatCount="indefinite"
                ></animateTransform>
                <path
                  d="M-30.77563900996249 -22.290357635723904 L-39.26092038420106 -30.77563900996247 L-30.775639009962486 -39.26092038420105 L-22.290357635723915 -30.775639009962482 A38 38 0 0 1 -6.0000000000000115 -37.52332607858744 L-6.0000000000000115 -37.52332607858744 L-6.000000000000014 -49.52332607858744 L5.999999999999995 -49.52332607858744 L5.999999999999997 -37.52332607858744 A38 38 0 0 1 22.290357635723904 -30.77563900996249 L22.290357635723904 -30.77563900996249 L30.77563900996247 -39.26092038420106 L39.26092038420105 -30.77563900996249 L30.775639009962482 -22.290357635723918 A38 38 0 0 1 37.52332607858743 -6.000000000000013 L37.52332607858743 -6.000000000000013 L49.52332607858743 -6.000000000000016 L49.52332607858744 5.999999999999993 L37.52332607858744 5.999999999999996 A38 38 0 0 1 30.77563900996249 22.2903576357239 L30.77563900996249 22.2903576357239 L39.26092038420106 30.775639009962468 L30.77563900996249 39.26092038420105 L22.290357635723918 30.775639009962482 A38 38 0 0 1 6.000000000000015 37.52332607858743 L6.000000000000015 37.52332607858743 L6.000000000000024 49.52332607858743 L-5.99999999999995 49.52332607858744 L-5.999999999999959 37.52332607858744 A38 38 0 0 1 -22.2903576357239 30.775639009962497 L-22.2903576357239 30.775639009962497 L-30.77563900996246 39.26092038420108 L-39.260920384201 30.77563900996256 L-30.77563900996244 22.29035763572398 A38 38 0 0 1 -37.52332607858744 5.999999999999985 L-37.52332607858744 5.999999999999985 L-49.52332607858744 5.999999999999989 L-49.523326078587445 -5.999999999999953 L-37.523326078587445 -5.999999999999957 A38 38 0 0 1 -30.775639009962457 -22.29035763572395 M0 -23A23 23 0 1 0 0 23 A23 23 0 1 0 0 -23"
                  fill="#e26c25"
                ></path>
              </g>
            </g>
          </g>
        </svg>

        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 200 200"
          className="animate-spin h-16 w-16 text-gray-500"
        >
          <path
            fill="#e26c25"
            stroke="#e26c25"
            strokeWidth="8"
            transform-origin="center"
            d="m148 84.7 13.8-8-10-17.3-13.8 8a50 50 0 0 0-27.4-15.9v-16h-20v16A50 50 0 0 0 63 67.4l-13.8-8-10 17.3 13.8 8a50 50 0 0 0 0 31.7l-13.8 8 10 17.3 13.8-8a50 50 0 0 0 27.5 15.9v16h20v-16a50 50 0 0 0 27.4-15.9l13.8 8 10-17.3-13.8-8a50 50 0 0 0 0-31.7Zm-47.5 50.8a35 35 0 1 1 0-70 35 35 0 0 1 0 70Z"
            style={{ transform: "scale(1.0)" }}
          />
        </svg>

        {/* <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          width="100px"
          height="100px"
          viewBox="0 0 100 100"
        >
          <g transform="translate(50 50)">
            <g transform="translate(-19 -19) scale(0.5)">
              <g>
                <animateTransform
                  attributeName="transform"
                  type="rotate"
                  values="0;45"
                  keyTimes="0;1"
                  dur="0.8771929824561403s"
                  begin="0s"
                  repeatCount="indefinite"
                ></animateTransform>
                <path
                  d="M31.35997276079435 21.46047782418268 L38.431040572659825 28.531545636048154 L28.531545636048154 38.431040572659825 L21.46047782418268 31.359972760794346 A38 38 0 0 1 7.0000000000000036 37.3496987939662 L7.0000000000000036 37.3496987939662 L7.000000000000004 47.3496987939662 L-6.999999999999999 47.3496987939662 L-7 37.3496987939662 A38 38 0 0 1 -21.46047782418268 31.35997276079435 L-21.46047782418268 31.35997276079435 L-28.531545636048154 38.431040572659825 L-38.43104057265982 28.531545636048158 L-31.359972760794346 21.460477824182682 A38 38 0 0 1 -37.3496987939662 7.000000000000007 L-37.3496987939662 7.000000000000007 L-47.3496987939662 7.000000000000008 L-47.3496987939662 -6.9999999999999964 L-37.3496987939662 -6.999999999999997 A38 38 0 0 1 -31.35997276079435 -21.460477824182675 L-31.35997276079435 -21.460477824182675 L-38.431040572659825 -28.531545636048147 L-28.53154563604818 -38.4310405726598 L-21.4604778241827 -31.35997276079433 A38 38 0 0 1 -6.999999999999992 -37.3496987939662 L-6.999999999999992 -37.3496987939662 L-6.999999999999994 -47.3496987939662 L6.999999999999977 -47.3496987939662 L6.999999999999979 -37.3496987939662 A38 38 0 0 1 21.460477824182686 -31.359972760794342 L21.460477824182686 -31.359972760794342 L28.531545636048158 -38.43104057265982 L38.4310405726598 -28.53154563604818 L31.35997276079433 -21.4604778241827 A38 38 0 0 1 37.3496987939662 -6.999999999999995 L37.3496987939662 -6.999999999999995 L47.3496987939662 -6.999999999999997 L47.349698793966205 6.999999999999973 L37.349698793966205 6.999999999999976 A38 38 0 0 1 31.359972760794346 21.460477824182682 M0 -22A22 22 0 1 0 0 22 A22 22 0 1 0 0 -22"
                  fill="#1C1C1C"
                ></path>
              </g>
            </g>
            <g transform="translate(19 19) scale(-0.4)">
              <g>
                <animateTransform
                  attributeName="transform"
                  type="rotate"
                  values="45;0"
                  keyTimes="0;1"
                  dur="0.8771929824561403s"
                  begin="-0.43859649122807015s"
                  repeatCount="indefinite"
                ></animateTransform>
                <path
                  d="M-31.35997276079435 -21.460477824182675 L-38.431040572659825 -28.531545636048147 L-28.53154563604818 -38.4310405726598 L-21.4604778241827 -31.35997276079433 A38 38 0 0 1 -6.999999999999992 -37.3496987939662 L-6.999999999999992 -37.3496987939662 L-6.999999999999994 -47.3496987939662 L6.999999999999977 -47.3496987939662 L6.999999999999979 -37.3496987939662 A38 38 0 0 1 21.460477824182686 -31.359972760794342 L21.460477824182686 -31.359972760794342 L28.531545636048158 -38.43104057265982 L38.4310405726598 -28.53154563604818 L31.35997276079433 -21.4604778241827 A38 38 0 0 1 37.3496987939662 -6.999999999999995 L37.3496987939662 -6.999999999999995 L47.3496987939662 -6.999999999999997 L47.349698793966205 6.999999999999973 L37.349698793966205 6.999999999999976 A38 38 0 0 1 31.359972760794346 21.460477824182682 L31.359972760794346 21.460477824182682 L38.431040572659825 28.531545636048154 L28.531545636048183 38.4310405726598 L21.460477824182703 31.35997276079433 A38 38 0 0 1 6.9999999999999964 37.3496987939662 L6.9999999999999964 37.3496987939662 L6.999999999999995 47.3496987939662 L-7.000000000000009 47.3496987939662 L-7.000000000000007 37.3496987939662 A38 38 0 0 1 -21.46047782418263 31.359972760794385 L-21.46047782418263 31.359972760794385 L-28.531545636048094 38.43104057265987 L-38.431040572659796 28.531545636048186 L-31.359972760794328 21.460477824182703 A38 38 0 0 1 -37.34969879396619 7.000000000000032 L-37.34969879396619 7.000000000000032 L-47.34969879396619 7.0000000000000355 L-47.3496987939662 -7.000000000000002 L-37.3496987939662 -7.000000000000005 A38 38 0 0 1 -31.359972760794346 -21.460477824182682 M0 -22A22 22 0 1 0 0 22 A22 22 0 1 0 0 -22"
                  fill="#831a19"
                ></path>
              </g>
            </g>
          </g>
        </svg> */}
      </div>
    </div>
  );
};

export default Preloader;
